@using SFA.DAS.FAT.Web.Infrastructure
@model SFA.DAS.FAT.Web.Models.CoursesViewModel
<main class="govuk-main-wrapper govuk-main-wrapper--auto-spacing" id="main-content" role="main">
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">

                <h1 class="govuk-heading-xl">
                    Apprenticeship training courses
                </h1>

            </div>
        </div>
<div class="govuk-grid-row">
    <div class="govuk-grid-column-one-third">

        <div class="fat-filter">

            <div class="fat-filter__header">
                <div class="fat-filter__header-title">
                    <h2 class="govuk-heading-m">Filter</h2>
                </div>
                <div class="fat-filter__header-action">
                </div>
            </div>

            <div class="fat-filter__content">

                @if (!string.IsNullOrEmpty(Model.Keyword))
                {
                    <div class="fat-filter__selected">
                        <div class="fat-filter__selected-heading">
                            <div class="fat-filter__heading-title">
                                <h2 class="govuk-heading-m">Selected filters</h2>
                            </div>
                            <div class="fat-filter__heading-action">
                                <p><a class="govuk-link govuk-link--no-visited-state" asp-route="@RouteNames.Training">Clear</a></p>
                            </div>
                        </div>
          
                        <h3 class="govuk-heading-s govuk-!-margin-bottom-0">@Model.Keyword</h3> 
                        <ul class="fat-filter-tags"> 
                             <li><a class="fat-filter__tag" asp-route="@RouteNames.Training"><span class="govuk-visually-hidden">Clear this filter</span> @Model.Keyword</a></li> 
                        </ul> 
                    </div>
                
                }
                
                </div>
                <div class="fat-filter__options">

                    <!-- Search box -->
                    <form asp-route="@RouteNames.Training" method="GET" >

                        <button type="submit" class="govuk-button fat-filter__submit" id="filters-submit">Apply filters</button>

                        
                        <div class="govuk-form-group" data-list-search-filter >
                            <label for="search-training" class="govuk-label" >
                                <span class="govuk-!-font-weight-bold govuk-!-font-size-24">Keywords</span>
                            </label>
                            <input asp-for="Keyword" type="search" title="Search" class="govuk-input search-input" >
                        </div>
                        
                        

                    </form>

                </div>

            </div>

        </div>
        

    </div>
        

        <div class="govuk-grid-row">
            <div class="govuk-grid-column-full">

                <h2 class="govuk-heading-m">@Model.Courses.Count results</h2>
                @if (Model.Courses.Count > 0)
                {
                    
                    if (!string.IsNullOrEmpty(Model.Keyword))
                    {
                        <p class="govuk-body govuk-!-margin-bottom-6">Sort by:
        
                            <span class="govuk-!-font-weight-bold">Relevance</span>, 
                            <a class="govuk-link govuk-link--no-visited-state" asp-route="@RouteNames.Training">Name</a>
        
                        </p>
                    }
                    else
                    {
                        <p class="govuk-body govuk-!-margin-bottom-6">
                         Sorted by:
                        <span class="govuk-!-font-weight-bold">Name</span> 
                        </p>
                    }
                        
                    

                    <hr class="govuk-section-break govuk-section-break--visible govuk-!-margin-bottom-3 ">


                    <div data-list>
                        @foreach (var course in Model.Courses)
                        {
                            <h2 class="govuk-heading-m govuk-!-margin-bottom-2">
                                <a class="govuk-link govuk-link--no-visited-state" asp-route-id="@course.Id" asp-route="@RouteNames.TrainingDetail">
                                    @course.Title <span class="das-no-wrap">(level @course.Level)</span>
                                </a>
                            </h2>
                            <p class="govuk-body">@course.OverviewOfRole</p>
                            <ul class="govuk-list">
                                <li class="govuk-!-font-size-16"><span class="das-text--muted">Sector:</span> @course.Sector</li>
                            </ul>
                            <hr class="govuk-section-break govuk-section-break--visible govuk-!-margin-top-2 govuk-!-margin-bottom-3">
                        }
                    </div>
                }
                else
                {
                    <p class="govuk-body govuk-!-margin-bottom-6">
                        No apprenticeship training courses for the selected filters.
                    </p>
                }
            </div>
        </div>
    </div>
</div>
</main>